import{tex as y}from"@mdit/plugin-tex";const S=["action","ams","amscd","bbm","bboldx","bbox","begingroup","boldsymbol","braket","bussproofs","cancel","cases","centernot","color","colortbl","colorv2","configmacros","dsfont","empheq","enclose","extpfeil","gensymb","html","mathtools","mhchem","newcommand","noerrors","noundefined","physics","setoptions","tagformat","texhtml","textcomp","textmacros","unicode","units","upgreek","verb"];let d=!0,c,h,p,x,f,w,b;try{({mathjax:c}=await import("@mathjax/src/js/mathjax.js")),{TeX:h}=await import("@mathjax/src/js/input/tex.js"),{CHTML:p}=await import("@mathjax/src/js/output/chtml.js"),{SVG:x}=await import("@mathjax/src/js/output/svg.js"),{liteAdaptor:f}=await import("@mathjax/src/js/adaptors/liteAdaptor.js"),{RegisterHTMLHandler:w}=await import("@mathjax/src/js/handlers/html.js"),{AssistiveMmlHandler:b}=await import("@mathjax/src/js/a11y/assistive-mml.js"),await import("./importer-C5KF-eLj.js")}catch{/* istanbul ignore next -- @preserve */d=!1}const g=e=>{/* istanbul ignore if -- @preserve */if(!d)throw new Error('[@mdit/plugin-mathjax-slim] "@mathjax/src" is not installed!');return{InputJax:new h({packages:["base",...S],...e.tex}),OutputJax:e.output==="chtml"?new p({adaptiveCSS:!0,...e.chtml}):new x({fontCache:"none",...e.svg}),enableAssistiveMml:e.a11y!==!1}},v=(e={})=>{const t=g(e),{OutputJax:a,InputJax:i}=t,o=f(),l=w(o);e.a11y!==!1&&b(l);const n=()=>{a instanceof p&&a.clearCache()},r=()=>{i.reset()},s=()=>{const m=o.innerHTML(a.styleSheet(c.document("",t)));return n(),m};return{adaptor:o,documentOptions:t,allowInlineWithSpace:e.allowInlineWithSpace??!1,delimiters:e.delimiters??"dollars",mathFence:e.mathFence??!1,clearStyle:n,reset:r,outputStyle:s,transformer:e.transformer??null}},I=(e,{allowInlineWithSpace:t,adaptor:a,delimiters:i,documentOptions:o,mathFence:l,transformer:n})=>{e.use(y,{allowInlineWithSpace:t,delimiters:i,mathFence:l,render:(r,s)=>{const m=c.document(r,o).convert(r,{display:s}),u=a.outerHTML(m);return n?.(u,s)??u}})};export{v as createMathjaxInstance,g as getDocumentOptions,I as mathjax};
//# sourceMappingURL=sync.js.map
