import{tex as S}from"@mdit/plugin-tex";const c=["action","ams","amscd","bbm","bboldx","bbox","begingroup","boldsymbol","braket","bussproofs","cancel","cases","centernot","color","colortbl","colorv2","configmacros","dsfont","empheq","enclose","extpfeil","gensymb","html","mathtools","mhchem","newcommand","noerrors","noundefined","physics","setoptions","tagformat","texhtml","textcomp","textmacros","unicode","units","upgreek","verb"],v={action:()=>import("@mathjax/src/js/input/tex/action/ActionConfiguration.js"),ams:()=>import("@mathjax/src/js/input/tex/ams/AmsConfiguration.js"),amscd:()=>import("@mathjax/src/js/input/tex/amscd/AmsCdConfiguration.js"),bbm:()=>import("@mathjax/src/js/input/tex/bbm/BbmConfiguration.js"),bboldx:()=>import("@mathjax/src/js/input/tex/bboldx/BboldxConfiguration.js"),bbox:()=>import("@mathjax/src/js/input/tex/bbox/BboxConfiguration.js"),begingroup:()=>import("@mathjax/src/js/input/tex/begingroup/BegingroupConfiguration.js"),boldsymbol:()=>import("@mathjax/src/js/input/tex/boldsymbol/BoldsymbolConfiguration.js"),braket:()=>import("@mathjax/src/js/input/tex/braket/BraketConfiguration.js"),bussproofs:()=>import("@mathjax/src/js/input/tex/bussproofs/BussproofsConfiguration.js"),cancel:()=>import("@mathjax/src/js/input/tex/cancel/CancelConfiguration.js"),cases:()=>import("@mathjax/src/js/input/tex/cases/CasesConfiguration.js"),centernot:()=>import("@mathjax/src/js/input/tex/centernot/CenternotConfiguration.js"),color:()=>import("@mathjax/src/js/input/tex/color/ColorConfiguration.js"),colortbl:()=>import("@mathjax/src/js/input/tex/colortbl/ColortblConfiguration.js"),colorv2:()=>import("@mathjax/src/js/input/tex/colorv2/ColorV2Configuration.js"),configmacros:()=>import("@mathjax/src/js/input/tex/configmacros/ConfigMacrosConfiguration.js"),dsfont:()=>import("@mathjax/src/js/input/tex/dsfont/DsfontConfiguration.js"),empheq:()=>import("@mathjax/src/js/input/tex/empheq/EmpheqConfiguration.js"),enclose:()=>import("@mathjax/src/js/input/tex/enclose/EncloseConfiguration.js"),extpfeil:()=>import("@mathjax/src/js/input/tex/extpfeil/ExtpfeilConfiguration.js"),gensymb:()=>import("@mathjax/src/js/input/tex/gensymb/GensymbConfiguration.js"),html:()=>import("@mathjax/src/js/input/tex/html/HtmlConfiguration.js"),mathtools:()=>import("@mathjax/src/js/input/tex/mathtools/MathtoolsConfiguration.js"),mhchem:()=>import("@mathjax/src/js/input/tex/mhchem/MhchemConfiguration.js"),newcommand:()=>import("@mathjax/src/js/input/tex/newcommand/NewcommandConfiguration.js"),noerrors:()=>import("@mathjax/src/js/input/tex/noerrors/NoErrorsConfiguration.js"),noundefined:()=>import("@mathjax/src/js/input/tex/noundefined/NoUndefinedConfiguration.js"),physics:()=>import("@mathjax/src/js/input/tex/physics/PhysicsConfiguration.js"),setoptions:()=>import("@mathjax/src/js/input/tex/setoptions/SetOptionsConfiguration.js"),tagformat:()=>import("@mathjax/src/js/input/tex/tagformat/TagFormatConfiguration.js"),texhtml:()=>import("@mathjax/src/js/input/tex/texhtml/TexHtmlConfiguration.js"),textcomp:()=>import("@mathjax/src/js/input/tex/textcomp/TextcompConfiguration.js"),textmacros:()=>import("@mathjax/src/js/input/tex/textmacros/TextMacrosConfiguration.js"),unicode:()=>import("@mathjax/src/js/input/tex/unicode/UnicodeConfiguration.js"),units:()=>import("@mathjax/src/js/input/tex/units/UnitsConfiguration.js"),upgreek:()=>import("@mathjax/src/js/input/tex/upgreek/UpgreekConfiguration.js"),verb:()=>import("@mathjax/src/js/input/tex/verb/VerbConfiguration.js")},k=async(t=c)=>{await import("@mathjax/src/js/input/tex/base/BaseConfiguration.js"),await Promise.all(t.filter(e=>c.includes(e)).map(e=>v[e]()))};let h=!0,l,b,d,x,f,w,g;try{({mathjax:l}=await import("@mathjax/src/js/mathjax.js")),{TeX:b}=await import("@mathjax/src/js/input/tex.js"),{CHTML:d}=await import("@mathjax/src/js/output/chtml.js"),{SVG:x}=await import("@mathjax/src/js/output/svg.js"),{liteAdaptor:f}=await import("@mathjax/src/js/adaptors/liteAdaptor.js"),{RegisterHTMLHandler:w}=await import("@mathjax/src/js/handlers/html.js"),{AssistiveMmlHandler:g}=await import("@mathjax/src/js/a11y/assistive-mml.js")}catch{/* istanbul ignore next -- @preserve */h=!1}const y=async t=>{/* istanbul ignore if -- @preserve */if(!h)throw new Error('[@mdit/plugin-mathjax-slim] "@mathjax/src" is not installed!');return await k(t.tex?.packages),{InputJax:new b({packages:["base",...c],...t.tex}),OutputJax:t.output==="chtml"?new d({adaptiveCSS:!0,...t.chtml}):new x({fontCache:"none",...t.svg}),enableAssistiveMml:t.a11y!==!1}},I=async(t={})=>{const e=await y(t),{OutputJax:o,InputJax:n}=e,r=f(),s=w(r);t.a11y!==!1&&g(s);const a=()=>{o instanceof d&&o.clearCache()},i=()=>{n.reset()},m=()=>{const p=r.innerHTML(o.styleSheet(l.document("",e)));return a(),p};return{adaptor:r,documentOptions:e,allowInlineWithSpace:t.allowInlineWithSpace??!1,delimiters:t.delimiters??"dollars",mathFence:t.mathFence??!1,clearStyle:a,reset:i,outputStyle:m,transformer:t.transformer??null}},M=(t,{allowInlineWithSpace:e,adaptor:o,delimiters:n,documentOptions:r,mathFence:s,transformer:a})=>{t.use(S,{allowInlineWithSpace:e,delimiters:n,mathFence:s,render:(i,m)=>{const p=l.document(i,r).convert(i,{display:m}),u=o.outerHTML(p);return a?.(u,m)??u}})};export{I as createMathjaxInstance,y as getDocumentOptions,M as mathjax};
//# sourceMappingURL=index.js.map
