import{dedent as e}from"@mdit/helper";const t=(e,t)=>{let n=e[t];return`<div class="${n.type}" title="${n.info}">${n.content}</div>`},n=(n,r)=>{let{name:i=`uml`,open:a=`start`,close:o=`end`,render:s=t}=r??{},c=`@${a}`,l=`@${o}`;n.block.ruler.before(`fence`,i,(t,n,r,a)=>{let o=t.bMarks[n]+t.tShift[n],s=t.eMarks[n];if(t.src.charCodeAt(o)!==64)return!1;let u;for(u=0;u<c.length;++u)if(c[u]!==t.src[o+u])return!1;let d=t.src.slice(o,o+u),f=t.src.slice(o+u,s);if(a)return!0;let p=!1,m=n;for(;m<r&&(o=t.bMarks[m]+t.tShift[m],s=t.eMarks[m],!(o<s&&t.sCount[m]<t.blkIndent));){if(t.src.charCodeAt(o)===64&&t.sCount[m]<=t.sCount[n]){let e=!0;for(u=0;u<l.length;++u)if(l[u]!==t.src[o+u]){e=!1;break}if(e&&t.skipSpaces(o+u)>=s){p=!0;break}}m++}let h=t.src.split(`
`).slice(n+1,m).join(`
`),g=t.push(i,`uml`,0);return g.block=!0,g.info=f,g.content=e(h),g.map=[n,m],g.markup=d,t.line=m+(p?1:0),!0},{alt:[`paragraph`,`reference`,`blockquote`,`list`]}),n.renderer.rules[i]=s};export{n as uml};
//# sourceMappingURL=index.js.map