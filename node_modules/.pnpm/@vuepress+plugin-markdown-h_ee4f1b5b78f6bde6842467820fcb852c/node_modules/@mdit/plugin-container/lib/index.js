const e=(e,t)=>{if(typeof t!=`object`||!t.name)throw Error(`[@mdit/plugin-container]: 'name' option is required.`);let{name:n,marker:r=`:`,validate:i=e=>e.trim().split(` `,2)[0]===n,openRender:a=(e,t,r,i,a)=>(e[t].attrJoin(`class`,n),a.renderToken(e,t,r)),closeRender:o=(e,t,n,r,i)=>i.renderToken(e,t,n)}=t,s=r[0],c=r.length;e.block.ruler.before(`fence`,`container_${n}`,(e,t,a,o)=>{let l=e.bMarks[t]+e.tShift[t],u=e.eMarks[t],d=e.sCount[t];if(s!==e.src[l])return!1;let f=l+1;for(;f<=u&&r[(f-l)%c]===e.src[f];)f++;let p=Math.floor((f-l)/c);if(p<3)return!1;f-=(f-l)%c;let m=r.repeat(p),h=e.src.slice(f,u);if(!i(h,m))return!1;if(o)return!0;let g=t+1,_=!1;for(;g<a;g++){let t=e.bMarks[g]+e.tShift[g],n=e.eMarks[g];if(t<n&&e.sCount[g]<d)break;if(e.sCount[g]===d&&s===e.src[t]){for(f=t+1;f<=n&&r[(f-t)%c]===e.src[f];f++);if(Math.floor((f-t)/c)>=p&&(f-=(f-t)%c,f=e.skipSpaces(f),f>=n)){_=!0;break}}}let v=e.parentType,y=e.lineMax,b=e.blkIndent;e.parentType=`container`,e.lineMax=g,e.blkIndent=d;let x=e.push(`container_${n}_open`,`div`,1);x.markup=m,x.block=!0,x.info=h,x.map=[t,g],e.md.block.tokenize(e,t+1,g);let S=e.push(`container_${n}_close`,`div`,-1);return S.markup=m,S.block=!0,e.parentType=v,e.lineMax=y,e.blkIndent=b,e.line=g+(_?1:0),!0},{alt:[`paragraph`,`reference`,`blockquote`,`list`]}),e.renderer.rules[`container_${n}_open`]=a,e.renderer.rules[`container_${n}_close`]=o};export{e as container};
//# sourceMappingURL=index.js.map